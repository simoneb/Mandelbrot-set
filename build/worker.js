!function(){"use strict";const t="undefined"!=typeof BigUint64Array,e=Symbol(),n=new TextDecoder("utf-16le",{fatal:!0});function r(t,e){let r=new Uint32Array(t)[e+-4>>>2]>>>1;const o=new Uint16Array(t,e,r);if(r<=192)return String.fromCharCode(...o);try{return n.decode(o)}catch{let t="",e=0;for(;r-e>1024;)t+=String.fromCharCode(...o.subarray(e,e+=1024));return t+String.fromCharCode(...o.subarray(e))}}function o(t){const e={};function n(t,e){return t?r(t.buffer,e):"<yet unknown>"}const o=t.env=t.env||{};return o.abort=o.abort||function(t,r,a,i){const s=e.memory||o.memory;throw Error(`abort: ${n(s,t)} at ${n(s,r)}:${a}:${i}`)},o.trace=o.trace||function(t,r,...a){const i=e.memory||o.memory;console.log(`trace: ${n(i,t)}${r?" ":""}${a.slice(0,r).join(", ")}`)},o.seed=o.seed||Date.now,t.Math=t.Math||Math,t.Date=t.Date||Date,e}const a=function(){throw Error("Operation requires compiling with --exportRuntime")};function i(e,n){const o=n.exports,i=o.memory,s=o.table,c=o.__new||a,u=o.__pin||a,f=o.__unpin||a,y=o.__collect||a,g=o.__rtti_base,p=g?function(t){return t[g>>>2]}:a;function w(t){const e=function(t){const e=new Uint32Array(i.buffer);if((t>>>=0)>=p(e))throw Error("invalid id: "+t);return e[(g+4>>>2)+2*t]}(t);if(!(7&e))throw Error(`not an array: ${t}, flags=${e}`);return e}function b(t){const e=new Uint32Array(i.buffer);if((t>>>=0)>=p(e))throw Error("invalid id: "+t);return e[(g+4>>>2)+2*t+1]}function _(t){return 31-Math.clz32(t>>>6&31)}function A(t,e,n){const r=i.buffer;if(n)switch(t){case 2:return new Float32Array(r);case 3:return new Float64Array(r)}else switch(t){case 0:return new(e?Int8Array:Uint8Array)(r);case 1:return new(e?Int16Array:Uint16Array)(r);case 2:return new(e?Int32Array:Uint32Array)(r);case 3:return new(e?BigInt64Array:BigUint64Array)(r)}throw Error("unsupported align: "+t)}function m(t){const e=new Uint32Array(i.buffer),n=w(e[t+-8>>>2]),r=_(n);let o=4&n?t:e[t+4>>>2];const a=2&n?e[t+12>>>2]:e[o+-4>>>2]>>>r;return A(r,2048&n,4096&n).subarray(o>>>=r,o+a)}function h(t,e,n){return new t(d(t,e,n))}function d(t,e,n){const r=i.buffer,o=new Uint32Array(r),a=o[n+4>>>2];return new t(r,a,o[a+-4>>>2]>>>e)}function U(t,n,r){e["__get"+n]=h.bind(null,t,r),e[`__get${n}View`]=d.bind(null,t,r)}return e.__new=c,e.__pin=u,e.__unpin=f,e.__collect=y,e.__newString=function(t){if(null==t)return 0;const e=t.length,n=c(e<<1,1),r=new Uint16Array(i.buffer);for(var o=0,a=n>>>1;o<e;++o)r[a+o]=t.charCodeAt(o);return n},e.__getString=function(t){if(!t)return null;const e=i.buffer;if(1!==new Uint32Array(e)[t+-8>>>2])throw Error("not a string: "+t);return r(e,t)},e.__newArray=function(t,e){const n=w(t),r=_(n),o=e.length,a=c(o<<r,4&n?t:0);let s;if(4&n)s=a;else{u(a);const e=c(2&n?16:12,t);f(a);const l=new Uint32Array(i.buffer);l[e+0>>>2]=a,l[e+4>>>2]=a,l[e+8>>>2]=o<<r,2&n&&(l[e+12>>>2]=o),s=e}const l=A(r,2048&n,4096&n);if(16384&n)for(let t=0;t<o;++t){const n=e[t];l[(a>>>r)+t]=n}else l.set(e,a>>>r);return s},e.__getArrayView=m,e.__getArray=function(t){const e=m(t),n=e.length,r=new Array(n);for(let t=0;t<n;t++)r[t]=e[t];return r},e.__getArrayBuffer=function(t){const e=i.buffer,n=new Uint32Array(e)[t+-4>>>2];return e.slice(t,t+n)},[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array].forEach((t=>{U(t,t.name,31-Math.clz32(t.BYTES_PER_ELEMENT))})),t&&[BigUint64Array,BigInt64Array].forEach((t=>{U(t,t.name.slice(3),3)})),e.__instanceof=function(t,e){const n=new Uint32Array(i.buffer);let r=n[t+-8>>>2];if(r<=p(n))do{if(r==e)return!0;r=b(r)}while(r);return!1},e.memory=e.memory||i,e.table=e.table||s,l(o,e)}function s(t){return"undefined"!=typeof Response&&t instanceof Response}function c(t){return t instanceof WebAssembly.Module}async function u(t,e={}){if(s(t=await t))return f(t,e);const n=c(t)?t:await WebAssembly.compile(t),r=o(e),a=await WebAssembly.instantiate(n,e);return{module:n,instance:a,exports:i(r,a)}}async function f(t,e={}){if(!WebAssembly.instantiateStreaming)return u(s(t=await t)?t.arrayBuffer():t,e);const n=o(e),r=await WebAssembly.instantiateStreaming(t,e),a=i(n,r.instance);return{...r,exports:a}}function l(t,n={}){const r=t.__argumentsLength?e=>{t.__argumentsLength.value=e}:t.__setArgumentsLength||t.__setargc||(()=>{});for(let o in t){if(!Object.prototype.hasOwnProperty.call(t,o))continue;const a=t[o];let i=o.split("."),s=n;for(;i.length>1;){let t=i.shift();Object.prototype.hasOwnProperty.call(s,t)||(s[t]={}),s=s[t]}let c=i[0],u=c.indexOf("#");if(u>=0){const n=c.substring(0,u),i=s[n];if(void 0===i||!i.prototype){const t=function(...e){return t.wrap(t.prototype.constructor(0,...e))};t.prototype={valueOf(){return this[e]}},t.wrap=function(n){return Object.create(t.prototype,{[e]:{value:n,writable:!1}})},i&&Object.getOwnPropertyNames(i).forEach((e=>Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e)))),s[n]=t}if(c=c.substring(u+1),s=s[n].prototype,/^(get|set):/.test(c)){if(!Object.prototype.hasOwnProperty.call(s,c=c.substring(4))){let n=t[o.replace("set:","get:")],r=t[o.replace("get:","set:")];Object.defineProperty(s,c,{get(){return n(this[e])},set(t){r(this[e],t)},enumerable:!0})}}else"constructor"===c?(s[c]=(...t)=>(r(t.length),a(...t))).original=a:(s[c]=function(...t){return r(t.length),a(this[e],...t)}).original=a}else/^(get|set):/.test(c)?Object.prototype.hasOwnProperty.call(s,c=c.substring(4))||Object.defineProperty(s,c,{get:t[o.replace("set:","get:")],set:t[o.replace("get:","set:")],enumerable:!0}):"function"==typeof a&&a!==r?(s[c]=(...t)=>(r(t.length),a(...t))).original=a:s[c]=a}return n}var y={instantiate:u,instantiateSync:function(t,e={}){const n=c(t)?t:new WebAssembly.Module(t),r=o(e),a=new WebAssembly.Instance(n,e);return{module:n,instance:a,exports:i(r,a)}},instantiateStreaming:f,demangle:l};let g;const p=self;p.onmessage=async t=>{const{action:e,data:n}=t.data;switch(e){case"loadWasm":const t=await y.instantiate(n,{env:{},index:{print:console.log}});g=t.exports,p.postMessage(null);break;case"generate":const r=g.generate(...n),o=g.__getUint8ClampedArrayView(r),a=new Uint8ClampedArray(o);g.__collect(),p.postMessage(a);break;default:console.error("Unknown action: "+e),p.postMessage(null)}}}();
//# sourceMappingURL=worker.js.map
